<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>แบบฝึกหัดเมตริกซ์</title>
<link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600&display=swap" rel="stylesheet">
<style>
    body{ font-family:'Sarabun',sans-serif; background:#f3f6fb; margin:0; padding:30px; }
    .container{ max-width:1000px; margin:auto; background:white; padding:35px; border-radius:18px; box-shadow:0 10px 30px rgba(0,0,0,0.1); }
    h1{ text-align:center; color:#2c3e50; margin-bottom:20px; }
    .info input{ padding:8px; margin:5px; width:200px; border:1px solid #ccc; border-radius:4px; }
    .section{ margin-top:25px; padding:20px; border-radius:12px; background:#fafafa; border-left:6px solid #ff9f43; }
    .section h3{ margin-top:0; color:#e67e22; }
    .matrix{ font-family:monospace; font-size:18px; background:#fff; display:inline-block; padding:10px 15px; border-radius:8px; margin:8px 0; border:1px solid #ddd; line-height: 1.2; }
    .answer{ padding:8px; width:200px; margin:6px 0; border-radius:6px; border:1px solid #ccc; }
    .grid{ display:grid; grid-template-columns:70px 70px; gap:10px; margin-top:10px; }
    .grid input{ padding:8px; text-align:center; border:1px solid #ccc; border-radius:4px; }
    button{ margin-top:25px; padding:14px 30px; font-size:18px; border:none; border-radius:10px; background:#ff9f43; color:white; cursor:pointer; width: 100%; transition: 0.3s; }
    button:hover{ background:#e67e22; }
    .score{ font-size:22px; font-weight:bold; margin-top:15px; text-align:center; color:#2c3e50; }
.back-btn-container {
    text-align: center;
    margin-top: 20px;
    width: 100%;
}

.back-button {
    display: inline-block;
    width: auto;          /* สำคัญ: ไม่ให้ยืดเต็ม */
    background-color: white;
    color: #e67e22;
    border: 1px solid #e67e22;
    padding: 12px 37px;
    border-radius: 20px;
    font-size: 16px;
    cursor: pointer;
    text-decoration: none;
    transition: 0.2s;
}

.back-button:hover {
    background-color: #fff4e6;
}

</style>
</head>
<body>

<div class="container">
    <h1>แบบฝึกหัดหน่วยที่ 7 ทฤษฎีเมตริกซ์และพีชคณิตเชิงเส้น</h1>

    <div class="info">
        ชื่อ-นามสกุล <input id="name" placeholder="ระบุชื่อ">
        ชั้น <input id="class" placeholder="เช่น ปวช.1">
        แผนก <input id="department" placeholder="เช่น คอมพิวเตอร์">
    </div>

    <div class="section">
        <h3>ข้อ 1 จงบอกชนิดของเมตริกซ์</h3>
        1) <div class="matrix">[9]</div><br>
        <input id="q51" class="answer" placeholder="คำตอบ"> <br>
        
        2) <div class="matrix">[1 0 0]</div><br>
        <input id="q52" class="answer" placeholder="คำตอบ"> <br>
        
        3) <div class="matrix">[0 0]<br>[0 0]</div><br>
        <input id="q53" class="answer" placeholder="คำตอบ"> <br>
        
        4) <div class="matrix">[1 0 0]<br>[0 1 0]<br>[0 0 1]</div><br>
        <input id="q56" class="answer" placeholder="คำตอบ">
    </div>

    <div class="section">
        <h3>ข้อ 2 กำหนดให้เมตริกซ์ </h3>
        C = <div class="matrix">[4 1]<br>[2 3]</div>
       <h3>จงหา C Transpose</h3>
        <div class="grid">
            <input id="q621"> <input id="q622">
            <input id="q623"> <input id="q624">
        </div>
    </div>

    <div class="section">
        <h3>ข้อ 3 จงทำเครื่องหมาย ✓ หน้าข้อที่เป็นสมการเชิงเส้นตัวแปรเดียว (เลือกข้อที่ถูก)</h3>
        <label><input type="checkbox" id="q91"> 12x − 4 = 5</label><br>
        <label><input type="checkbox" id="q92"> 3y + 6 = −9</label><br>
        <label><input type="checkbox" id="q93"> (x + 1)5 = 30</label><br>
        <label><input type="checkbox" id="q94"> 2x + 3y = 2</label>
    </div>

    <div class="section">
        <h3>ข้อ 4 จงทำเครื่องหมาย ✓ หน้าข้อที่เป็นสมการเชิงเส้นสองตัวแปร (เลือกข้อที่ถูก)</h3>
        <label><input type="checkbox" id="q101"> 2x − 4 = 5</label><br>
        <label><input type="checkbox" id="q102"> 3y + x = 10</label><br>
        <label><input type="checkbox" id="q103"> 2x − 3x + 5 = 6</label><br>
        <label><input type="checkbox" id="q104"> 2x + y = 2</label>
    </div>

    <button onclick="showScore()">ตรวจคะแนนและส่งข้อมูล</button>
    <div id="scoreDisplay" class="score"></div>
<div class="back-btn-container">
        <button type="button" class="back-button" onclick="window.history.back()">
            <span>←</span> ย้อนกลับ
        </button>
    </div>
  </div>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbzPKoMkUhO-vA9mjd1rslYWKGqoqcCCz34N0ikCbay4GRB8ua7vwOmEzFgTVk6r6oM3Pw/exec";

function showScore(){
    let score = 0;

    // ตรวจเช็คข้อมูลส่วนตัว
    if(!document.getElementById("name").value){
    }

    // ข้อ 5 (เช็คว่ากรอกข้อมูลหรือไม่)
    if(document.getElementById("q51").value.trim() == "เมตริกซ์จัตุรัส") score++;
    if(document.getElementById("q52").value.trim() == "เมตริกซ์แถว") score++;
    if(document.getElementById("q53").value.trim() == "เมตริกซ์ศูนย์") score++;
    if(document.getElementById("q56").value.trim() == "ยูนิตเมตริกซ์") score++;

    // ข้อ 6 (เช็คการกรอกใน Grid)
    if(document.getElementById("q621").value.trim() == "4") score+= 0.5;
    if(document.getElementById("q622").value.trim() == "2") score+= 0.5;
    if(document.getElementById("q623").value.trim() == "1") score+= 0.5;
    if(document.getElementById("q624").value.trim() == "3") score+= 0.5;

    // ข้อ 9 (Checkboxes - ให้คะแนนตามเงื่อนไข logic ที่คุณเขียน)
    if(document.getElementById("q91").checked) score += 0.5;
    if(document.getElementById("q92").checked) score += 0.5;
    if(document.getElementById("q93").checked) score += 0.5;
    if(!document.getElementById("q94").checked) score += 0.5;

    // ข้อ 10
    if(!document.getElementById("q101").checked) score += 0.5;
    if(document.getElementById("q102").checked) score += 0.5;
    if(!document.getElementById("q103").checked) score += 0.5;
    if(document.getElementById("q104").checked) score += 0.5;

    // แสดงผลคะแนนบนหน้าจอ
    document.getElementById("scoreDisplay").innerHTML = "คะแนนของคุณคือ: " + score + " / 10";

    // ส่งข้อมูลไปยัง Google Apps Script
    const payload = {
        name: document.getElementById("name").value,
        class: document.getElementById("class").value,
        department: document.getElementById("department").value,
        score: score,
        total: 10
    };

    fetch(scriptURL, {
        method: "POST",
        mode: "no-cors", // จำเป็นสำหรับ Google Apps Script บางกรณี
        cache: "no-cache",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
    })
    .then(() => alert("บันทึกข้อมูลสำเร็จ!"))
    .catch(error => console.error("Error!", error.message));
}
</script>

</body>
</html>