<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>แบบฝึกหัดบทที่ 3 ระบบจำนวน</title>

<link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600&display=swap" rel="stylesheet">

<style>
body{
  font-family:'Prompt',sans-serif;
  background:#eef7ee;
  padding:20px;
}
.container{
  max-width:960px;
  margin:auto;
}
h1{
  text-align:center;
  color:#1b5e20;
  margin-bottom:30px;
}
.card-front{
  background: linear-gradient(135deg, #d4fc79, #57c84d);
  padding:25px;
  border-radius:20px;
  margin-bottom:25px;
  box-shadow:0 10px 25px rgba(0,0,0,.15);
}
.inner-card{
  background:#ffffffdd;
  padding:20px;
  border-radius:15px;
}
.info{
  display:grid;
  grid-template-columns:1fr 1fr 1fr;
  gap:15px;
}
label{
  font-weight:600;
}
input{
  width:100%;
  padding:7px;
  font-size:16px;
  border-radius:8px;
  border:1px solid #999;
}
.math-box{
  margin-top:15px;
  background:#fff;
  padding:15px;
  border-radius:12px;
  font-family:monospace;
  font-size:18px;
  line-height:2;
}
.math-box input{
  width:70px;
  text-align:center;
}
.answer{
  width:220px;
  margin-top:10px;
}
button{
  width:100%;
  padding:15px;
  font-size:18px;
  background:#1b5e20;
  color:#fff;
  border:none;
  border-radius:15px;
  cursor:pointer;
}
.back-wrap{
  text-align:center;
  margin-top:25px;
}

.back-btn{
  display:inline-block;
  padding:14px 36px;
  border-radius:30px;
  background:#1b5e20;   /* สีเขียวโทนเดียวกับปุ่มหลัก */
  color:#fff;
  font-size:18px;
  font-weight:600;
  text-decoration:none;
  border:none;
  transition:.25s;
}

.back-btn:hover{
  background:#2e7d32;
}


.result{
  margin-top:25px;
  text-align:center;
  font-size:22px;
  font-weight:bold;
  color:#1b5e20;
}

</style>
</head>

<body>
<div class="container">

<h1>แบบฝึกหัดหน่วยที่ 3 การเปลี่ยนฐานของตัวเลขในระบบคอมพิวเตอร์</h1>

<!-- ข้อมูลนักเรียน -->
<div class="card-front">
  <div class="inner-card info">
    <div>
      <label>ชื่อ – นามสกุล</label>
      <input id="studentName">
    </div>
    <div>
      <label>ชั้น</label>
      <input id="className">
    </div>
    <div>
      <label>แผนก</label>
      <input id="dept">
    </div>
  </div>
</div>

<!-- ข้อ 1 -->
<div class="card-front">
  <div class="inner-card">
    <h3>ข้อ 1 (1 คะแนน)</h3>
    <p>จำนวน <b>1010</b> เป็นเลขฐานใด</p>
    <input id="q1" class="answer" placeholder="เช่น เลขฐานสอง">
  </div>
</div>

<!-- ข้อ 2 -->
<div class="card-front">
  <div class="inner-card">
    <h3>ข้อ 2 (3 คะแนน)</h3>
    <p>จงเปลี่ยน <b>236₁₀</b> เป็นเลขฐานสอง</p>

    <div class="math-box">
      236 ÷ 2 = <input> เศษ <input><br>
      <input> ÷ 2 = <input> เศษ <input><br>
      <input> ÷ 2 = <input> เศษ <input><br>
      <input> ÷ 2 = <input> เศษ <input><br>
       <input> ÷ 2 = <input> เศษ <input><br>
        <input> ÷ 2 = <input> เศษ <input><br>
         <input> ÷ 2 = <input> เศษ <input><br>
    </div>

    คำตอบสุดท้าย :
    <input id="q2" class="answer">
  </div>
</div>

<!-- ข้อ 3 -->
<div class="card-front">
  <div class="inner-card">
    <h3>ข้อ 3 (3 คะแนน)</h3>
    <p>จงเปลี่ยน <b>32₁₀</b> เป็นเลขฐานแปด</p>

    <div class="math-box">
      32 ÷ 8 = <input> เศษ <input><br>
    </div>

    คำตอบสุดท้าย :
    <input id="q3" class="answer">
  </div>
</div>

<!-- ข้อ 4 -->
<div class="card-front">
  <div class="inner-card">
    <h3>ข้อ 4 (3 คะแนน)</h3>
    <p>จงเปลี่ยน <b>72₁₀</b> เป็นเลขฐานสิบหก</p>

    <div class="math-box">
      72 ÷ 16 = <input> เศษ <input><br>
     
    </div>

    คำตอบสุดท้าย :
    <input id="q4" class="answer">
  </div>
</div>

<button onclick="checkScore()">ตรวจคำตอบ</button>
<div id="result" class="result"></div>
<div class="back-wrap">
  <a href="unit3.html" class="back-btn">⬅ กลับหน้าบทเรียน</a>
</div>
</div>

<script>
const WEB_APP_URL =
"https://script.google.com/macros/s/AKfycbxltHQspH4YCtNuhsVd0gY_QwigGOOIpKGSJbg6wRuXw_ctd60ty6sQHVIhAM0_bf1zNw/exec";

function checkScore(){
  let score = 0;

  if(q1.value.includes("เลขฐานสิบ")) score += 1;
  if(q2.value.trim() === "11101100") score += 3;
  if(q3.value.trim() === "40") score += 3;
  if(q4.value.trim().toUpperCase() === "48") score += 3;

  result.innerHTML = "คะแนนที่ได้ : " + score + " / 10 คะแนน";

  sendToSheet(score);
}

function sendToSheet(score){
  fetch(
    WEB_APP_URL +
    "?time=" + encodeURIComponent(new Date().toLocaleString()) +
    "&name=" + encodeURIComponent(studentName.value) +
    "&class=" + encodeURIComponent(className.value) +
    "&dept=" + encodeURIComponent(dept.value) +
    "&score=" + score +
    "&total=10"
  );
}
</script>

</body>
</html>
